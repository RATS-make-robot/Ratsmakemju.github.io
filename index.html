<!-- index.html -->
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ëª…ì§€ëŒ€í•™êµ ë¡œë´‡, ì„ë² ë””ë“œ ì¤‘ì•™ë™ì•„ë¦¬ RATS since 1993">
    <meta property="og:title" content="RATS í™ë³´í˜ì´ì§€">
    <meta property="og:type" content="website">
    <meta property="og:description" content="ëª…ì§€ëŒ€í•™êµ ë¡œë´‡, ì„ë² ë””ë“œ ì¤‘ì•™ë™ì•„ë¦¬ RATS since 1993">
    <meta property="og:image" content="/assets/images/logos/RATS.svg">
    <meta property="og:url" content="https://join.mju-rats.com/">
    <title>RATS í™ë³´í˜ì´ì§€ - ëª…ì§€ëŒ€í•™êµ ë¡œë´‡, ì„ë² ë””ë“œ ì¤‘ì•™ë™ì•„ë¦¬</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <script>
        // ì‹œìŠ¤í…œ ì„¤ì •ì— ë”°ë¼ ë‹¤í¬ëª¨ë“œ ì„¤ì •
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.body.classList.add('dark-mode');
        }
    </script>
    <!--
    <div class="box">
        <img src="assets/images/site/logo.png" alt="RATS Logo">
    </div>-->
    <!-- Include header -->
    <div class="site-header" id="header">
        <!-- Header content will be dynamically included 
        <img src="assets/images/site/logo.png" alt="RATS Logo">-->
        <script>
            fetch('header.html').then(res => res.text()).then(data => document.getElementById('header').innerHTML = data);

            // ì‹œìŠ¤í…œ ì„¤ì •ì— ë”°ë¼ ë‹¤í¬ëª¨ë“œ ì„¤ì •
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode');
            }
        </script>
    </div>

    <!-- Include navigation -->
    <div id="navigation">
        <!-- Navigation content will be dynamically included -->
        <script>
            fetch('nav.html').then(res => res.text()).then(data => document.getElementById('navigation').innerHTML = data);
        </script>
    </div>

    <main>
        <!-- Include about -->
        <div id="about">
            <!-- About content will be dynamically included -->
            <script>
                fetch('about.html')
                    .then(res => res.text())
                    .then(data => {
                        // 'about'ì— ë¡œë“œëœ ë‚´ìš©ì„ ì‚½ì…
                        document.getElementById('about').innerHTML = data;

                        // ë¡œë“œëœ í›„ 'code-display' ìš”ì†Œë¥¼ ê°€ì ¸ì™€ ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
                        const typingElement = document.getElementById("code-display");
                        if (!typingElement) {
                            console.error("Element with ID 'code-display' not found.");
                            return;
                        }

                        // Initialize typing animation
                        initializeTypingAnimation(typingElement);
                    })
                    .catch(error => console.error('Error loading about.html:', error));

                // ì‹œìŠ¤í…œ ì„¤ì •ì— ë”°ë¼ ë‹¤í¬ëª¨ë“œ ì„¤ì •
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.body.classList.add('dark-mode');
                }

                function initializeTypingAnimation(typingElement) {
                    const sentences = [
                        "ë¡œë´‡ì„ ê°œë°œí•©ë‹ˆë‹¤.",
                        "ì•±ë„ ê°œë°œí•©ë‹ˆë‹¤.",
                        "ì„ë² ë””ë“œ ì„¤ê³„ë„ í•©ë‹ˆë‹¤.",
                        "ê²Œì„ë„ í•©ë‹ˆë‹¤.",
                        "ì„¸ë¯¸ë‚˜ë„ í•©ë‹ˆë‹¤."
                    ];

                    const languages = [
                        { language: "C", comment: "//", output: `<span class='keyword'>printf</span>(<span class='string'>\"{sentence}\\n\"</span>);` },
                        { language: "Python", comment: "#", output: `<span class='keyword'>print</span>(<span class='string'>\"{sentence}\"</span>)` },
                        { language: "Java", comment: "//", output: `<span class='keyword'>System.out.println</span>(<span class='string'>\"{sentence}\"</span>);` },
                        {
                            language: "HTML<span class='language-comment'>--&gt;</span>", comment: "&lt;!--", outputs: [
                                "<span class='tag'>&lt;h1&gt;</span>{sentence}<span class='tag'>&lt;/h1&gt;</span>",
                                "<span class='tag'>&lt;h2&gt;</span>{sentence}<span class='tag'>&lt;/h2&gt;</span> <span class='language-comment'>--&gt;</span>",
                                "<span class='tag'>&lt;h3&gt;</span>{sentence}<span class='tag'>&lt;/h3&gt;</span> <span class='language-comment'>--&gt;</span>",
                                "<span class='tag'>&lt;h4&gt;</span>{sentence}<span class='tag'>&lt;/h4&gt;</span> <span class='language-comment'>--&gt;</span>",
                                "<span class='tag'>&lt;h5&gt;</span>{sentence}<span class='tag'>&lt;/h5&gt;</span> <span class='language-comment'>--&gt;</span>",
                                "<span class='tag'>&lt;h6&gt;</span>{sentence}<span class='tag'>&lt;/h6&gt;</span> <span class='language-comment'>--&gt;</span>"
                            ]
                        }
                    ];

                    let currentSentenceIndex = 0;
                    let currentLanguage = languages[Math.floor(Math.random() * languages.length)];
                    let charIndex = 0;
                    let isDeleting = false;
                    let currentOutput = "";

                    const cursor = `<span class="cursor"></span>`;

                    function typeEffect() {
                        typingElement.innerHTML = typingElement.innerHTML.replace(cursor, "");

                        const currentSentence = sentences[currentSentenceIndex];
                        if (currentLanguage.language === "HTML<span class='language-comment'>--&gt;</span>") {
                            const randomOutput = currentLanguage.outputs[Math.floor(Math.random() * currentLanguage.outputs.length)];
                            currentOutput = randomOutput.replace("{sentence}", currentSentence);
                        } else {
                            currentOutput = currentLanguage.output.replace("{sentence}", currentSentence);
                        }

                        if (!isDeleting && charIndex <= currentOutput.length) {
                            typingElement.innerHTML = `<span class="language-comment">${currentLanguage.comment}</span> <span class="language-comment">${currentLanguage.language}</span>\n` +
                                currentOutput.slice(0, charIndex) + cursor;
                            charIndex++;
                            setTimeout(typeEffect, 25);
                        } else if (isDeleting && charIndex >= 0) {
                            typingElement.innerHTML = `<span class="language-comment">${currentLanguage.comment}</span> <span class="language-comment">${currentLanguage.language}</span>\n` +
                                currentOutput.slice(0, charIndex) + cursor;
                            charIndex--;
                            setTimeout(typeEffect, 10);
                        } else {
                            isDeleting = !isDeleting;

                            if (!isDeleting) {
                                currentSentenceIndex = (currentSentenceIndex + 1) % sentences.length;
                                currentLanguage = languages[Math.floor(Math.random() * languages.length)];
                                charIndex = 0;
                                setTimeout(typeEffect, 250);
                            } else {
                                setTimeout(typeEffect, 1000);
                            }
                        }
                    }
                    typeEffect();
                }
            </script>
        </div>

        <!-- Include skills -->
        <div id="skills">
            <!-- Skills content will be dynamically included -->
            <script>
                fetch('skills.html').then(res => res.text()).then(data => document.getElementById('skills').innerHTML = data);
            </script>
        </div>

        <!-- Include experiences -->
        <div id="experiences">
            <!--Experiences content will be dynamically included-->
            <script>
                fetch('experiences.html').then(res => res.text()).then(data => document.getElementById('experiences').innerHTML = data);
                /*fetch('experiences.html')
                    .then(res => res.text())
                    .then(data => {
                        console.log('HTML ë¡œë“œ ì™„ë£Œ:', data);
                        document.getElementById('experiences').innerHTML = data;
                        console.log('ì½˜í…ì¸  ì‚½ì… ì™„ë£Œ');
                        // ì½˜í…ì¸  ë¡œë“œ í›„ í´ë˜ìŠ¤ ì¶”ê°€
                        experiencesElement.classList.add('visible');
                        // ë¦¬ë Œë”ë§ ê°•ì œ íŠ¸ë¦¬ê±° (ì„ íƒ ì‚¬í•­)
                        experiencesElement.style.display = 'none';
                        experiencesElement.offsetHeight; // ê°•ì œ Reflow
                        experiencesElement.style.display = 'block';
                    })
                    .catch(error => console.error('Error loading experiences.html:', error));*/
            </script>
        </div>

        <!-- Include projects -->
        <div id="projects">
            <!-- Projects content will be dynamically included -->
            <script>
                fetch('projects.html').then(res => res.text()).then(data => document.getElementById('projects').innerHTML = data);
            </script>
        </div>


        <!-- Include seminars -->
        <div id="seminars">
            <!-- Seminars content will be dynamically included -->
            <script>
                fetch('seminars.html').then(res => res.text()).then(data => document.getElementById('seminars').innerHTML = data);
            </script>
        </div>

        <!-- Include join -->
        <div id="join">
            <!-- join content will be dynamically included -->
            <script>
                fetch('join.html').then(res => res.text()).then(data => document.getElementById('join').innerHTML = data);
            </script>
        </div>

        <!-- Include contact -->
        <div id="contact">
            <!-- Contact content will be dynamically included -->
            <script>
                fetch('contact.html').then(res => res.text()).then(data => document.getElementById('contact').innerHTML = data);
            </script>
        </div>

        <button id="back-to-top" title="Go to top">â‡ª</button>
        <button id="dark-mode-toggle">ğŸŒ™</button>

        </div>
    </main>
    <!-- Include footer -->
    <div id="footer">
        <!-- Footer content will be dynamically included -->
        <script>
            fetch('footer.html').then(res => res.text()).then(data => document.getElementById('footer').innerHTML = data);
        </script>
    </div>

    <!--<script src="assets/js/about-animation.js"></script> -->
    <!-- Include the script -->
    <!-- Include the JS-YAML library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <!-- Include loading script -->
    <script src="assets/js/load_experiences.js"></script>
    <script src="assets/js/load_projects.js"></script>
    <script src="assets/js/load_seminars.js"></script>
    <script>
        // Wait for the animation to finish, then show the content
        /*
        setTimeout(() => {
            document.querySelector('.content').classList.add('show');
        }, 10); // 3s fadeOut starts after 1.5s slideIn
*/
        function goToGoogleForm() {
            const googleFormLink = "https://forms.gle/your-google-form-link"; // Replace with your Google Form link
            window.open(googleFormLink, "_blank");
        }

        // Back-to-top button functionality
        document.addEventListener("DOMContentLoaded", function () {
            const backToTopButton = document.getElementById("back-to-top");

            // Show/hide button on scroll
            window.addEventListener("scroll", function () {
                if (window.scrollY > 300) {
                    backToTopButton.classList.add("visible");
                } else {
                    backToTopButton.classList.remove("visible");
                }
            });

            // Scroll to top on click
            backToTopButton.addEventListener("click", function () {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth"
                });
            });
            /*
                        // ì‹œìŠ¤í…œ ì„¤ì •ì— ë”°ë¼ ë‹¤í¬ëª¨ë“œ ì„¤ì •
                        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                            document.body.classList.add('dark-mode');
                        }
            */
            // ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ ê¸°ëŠ¥ ì¶”ê°€
            document.getElementById('dark-mode-toggle').addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
            });

        });
        document.addEventListener("DOMContentLoaded", function () {
            // classë¡œ ì„ íƒëœ ëª¨ë“  ìš”ì†Œë¥¼ ê°€ì ¸ì˜´
            const scrollProgressBars = document.querySelectorAll('.scroll-progress-bar');

            window.addEventListener('scroll', () => {
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPosition = window.scrollY;
                const scrollPercentage = (scrollPosition / scrollHeight) * 100;

                // ëª¨ë“  ì„ íƒëœ ìš”ì†Œì— ëŒ€í•´ widthë¥¼ ì—…ë°ì´íŠ¸
                scrollProgressBars.forEach((bar) => {
                    bar.style.width = `${scrollPercentage}%`;
                });
            });
        });
    </script>
    <!--<script src="assets/js/filter_projects.js"></script>-->
</body>

</html>